<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.a57798ad4d86c86d7e4b.css">.tiles-module--image--1-ejc{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.tiles-module--imageContainer--9DUT4{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.tiles-module--wrapper--2oIOd{height:100%}.tiles-module--tile--2kwde{display:-webkit-flex;display:flex;-webkit-flex:1 1;flex:1 1;padding:2em;position:relative}.tiles-module--tile--2kwde a{color:#fcfcfd;text-decoration:none}.tiles-module--tile--2kwde h3,.tiles-module--tile--2kwde p{position:relative}.tiles-module--tile--2kwde h3{border-bottom:.1em dotted #fcfcfd;margin-top:0}.tiles-module--tile--2kwde .tiles-module--date--aIswY{border-top:1px solid #fcfcfd;display:inline-block}.tiles-module--tileContainer--3FpOW{width:100%;height:calc(33vw - 2em);display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:stretch;justify-content:stretch;margin-top:2em;margin-bottom:2em}.tiles-module--blackout--ElFOE{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,61,.6)}.tags-module--tagsLabel--1AV4E{display:inline-block;margin-right:.5em}.tags-module--tag--3kCeK{display:inline-block;margin-right:.25em;white-space:nowrap}.tags-module--tag--3kCeK a{color:#2a2a37;text-decoration:none;border-bottom:1px dotted #2a2a37}.sourcepost-module--root--WEjHy{margin:1em -2em;padding:1em 2em;background:linear-gradient(90deg,#d0d0dc 0,#d0d0dc 8px,#eeeef2 0)}.header-module--menuLink--17w_4{margin-right:.5em;color:#fcfcfd}.header-module--active--2pIok{color:#f0194b}.header-module--root--3b321{background:#2a2a37;padding:.5em}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}html{font-family:Roboto,sans-serif}h1,h2,h3,h4,h5,h6{font-family:Open Sans,sans-serif}img{max-width:100%}body{margin:0;padding:0;background:#fcfcfd}html{font-size:16px;line-height:1.5}@media (min-width:320px){html{font-size:calc(16px + (200vw - 640px)/1046)}}@media (min-width:1366px){html{font-size:18px}}h1{font-size:2em}@media (min-width:20em){h1{font-size:calc(2em + (100vw - 20em)/50)}}@media (min-width:70em){h1{font-size:3em}}pre{overflow:scroll;background:#eeeef2;padding:.5em;margin:2em -.5em}.bodyContent{box-sizing:border-box;margin:0 auto;max-width:60em;padding-left:16px;padding-right:16px}@media (min-width:320px){.bodyContent{padding-left:calc(7.14286vw - 6.85714px)}}@media (min-width:768px){.bodyContent{padding-left:48px}}@media (min-width:320px){.bodyContent{padding-right:calc(7.14286vw - 6.85714px)}}@media (min-width:768px){.bodyContent{padding-right:48px}}hr{background:#2a2a37;border:0;height:1px;margin:0 auto;max-width:60em;overflow:visible;text-align:center}@media (min-width:20em){hr{margin-top:calc(2em + (200vw - 40em)/50)}}@media (min-width:70em){hr{margin-top:4em}}@media (min-width:20em){hr{margin-bottom:calc(2em + (200vw - 40em)/50)}}@media (min-width:70em){hr{margin-bottom:4em}}hr:after{background:#fcfcfd;content:"\2022   \2022   \2022";display:inline-block;font-size:1.4em;padding:0 .4em;position:relative;top:-.7em}hr.endPost{background:#f0194b}hr.endPost:after{color:#f0194b;content:"END";font-size:.7em;top:-1.2em}p>.gatsby-resp-image-link{width:calc(50% - .5em);float:left}p>.gatsby-resp-image-link:first-child{margin-right:1em}p>.gatsby-resp-image-link:last-child:after{content:"";display:block;float:none}p>.gatsby-resp-image-link:only-child{float:none;width:100%;margin-right:0}p>img{max-width:100%;width:auto;margin:0 auto}blockquote{position:relative;padding:1em 3.33em;margin:1em 0;background:#e3f4fb;font-style:italic}blockquote:before{content:"\201C";top:0;left:.33em}blockquote:after,blockquote:before{font-style:normal;font-family:serif;font-weight:700;position:absolute;font-size:3em;color:#00b0f0}blockquote:after{content:"\201D";bottom:0;right:.33em}.external-profiles{display:-webkit-flex;display:flex;list-style:none;margin:0;padding:0}.external-profiles li{display:-webkit-flex;display:flex;-webkit-flex:1 1 auto;flex:1 1 auto;margin:.5em;padding:1em .5em;text-align:center;border:.1em solid}.external-profiles li:first-child{margin-left:0}.external-profiles li:last-child{margin-right:0}.external-profiles li a{margin:auto}.external-profiles li svg{width:100%;height:2em}</style><meta name="generator" content="Gatsby 2.7.1"/><title data-react-helmet="true">Building a humanised command-line interface with Node.js | James Ford</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:site" content="@psyked"/><meta data-react-helmet="true" name="twitter:creator"/><meta data-react-helmet="true" name="twitter:title" content="Building a humanised command-line interface with Node.js"/><meta data-react-helmet="true" name="twitter:description" content="Because config management sucks."/><meta data-react-helmet="true" name="twitter:image" content="/static/2f907534aeeb5fd6a8677478eff28ffc/30037/1*h89l_KJR8w2NrzQXtPCAmw.jpg"/><style data-styled="gRjVAE fjvCrR jHubZB hlSqCg" data-styled-version="4.2.0">
/* sc-component-id: Banner__Wrapper-hibpma-0 */
.gRjVAE{background:center center / cover $border;position:relative;padding-top:2em;padding-bottom:3em;}
/* sc-component-id: Banner__Overlay-hibpma-1 */
.hlSqCg{position:absolute;width:100%;height:100%;top:0px;left:0px;background:rgba($border,0.6);}
/* sc-component-id: Banner__ImageContainer-hibpma-2 */
.fjvCrR{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;}
/* sc-component-id: Banner__ImageWrapper-hibpma-3 */
.jHubZB{height:100%;}</style><link as="script" rel="preload" href="/component---src-templates-blog-post-js-ceb71cbd593f5997e7c9.js"/><link as="script" rel="preload" href="/app-523774c7d59d91decc83.js"/><link as="script" rel="preload" href="/11-136b333296f119c7f06b.js"/><link as="script" rel="preload" href="/1-3e750456ca4431761d32.js"/><link as="script" rel="preload" href="/styles-febc33b797b051cb2e7a.js"/><link as="script" rel="preload" href="/webpack-runtime-f49c063d17dec9ee358c.js"/><link as="fetch" rel="preload" href="/static/d/490/path---blog-building-a-humanised-command-line-interface-with-node-js-1-e-2-11e-BVgULO9gs7LU7BsvcDIE3vseI.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div><header class="header-module--root--3b321"><nav class="bodyContent"><a class="header-module--menuLink--17w_4" href="/">Home</a><a class="header-module--menuLink--17w_4" href="/blog/">Blog Archive</a><a class="header-module--menuLink--17w_4" href="/speaking/">Public Speaking</a></nav></header><main><header class="Banner__Wrapper-hibpma-0 gRjVAE"><aside class="Banner__ImageContainer-hibpma-2 fjvCrR"><div class="Banner__ImageWrapper-hibpma-3 jHubZB gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:56.1%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQCAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABbWuQNYgR/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAMBAhARMv/aAAgBAQABBQITfc4T2f/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAQADAAAAAAAAAAAAAAAAAAEAESD/2gAIAQEABj8Cjbn/xAAaEAACAgMAAAAAAAAAAAAAAAAAARCxEUFR/9oACAEBAAE/IUx6+TkaKncf/9oADAMBAAIAAwAAABDA/wD/xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8QrH//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QjX//xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhMUFR8P/aAAgBAQABPxAAtaPZSed7vPGWTbHyYuvgS2f/2Q==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><img loading="lazy" sizes="(max-width: 630px) 100vw, 630px" srcset="/static/2f907534aeeb5fd6a8677478eff28ffc/10bdc/1*h89l_KJR8w2NrzQXtPCAmw.jpg 158w,
/static/2f907534aeeb5fd6a8677478eff28ffc/f4ab0/1*h89l_KJR8w2NrzQXtPCAmw.jpg 315w,
/static/2f907534aeeb5fd6a8677478eff28ffc/30037/1*h89l_KJR8w2NrzQXtPCAmw.jpg 630w,
/static/2f907534aeeb5fd6a8677478eff28ffc/9810d/1*h89l_KJR8w2NrzQXtPCAmw.jpg 945w,
/static/2f907534aeeb5fd6a8677478eff28ffc/ff2e4/1*h89l_KJR8w2NrzQXtPCAmw.jpg 1260w,
/static/2f907534aeeb5fd6a8677478eff28ffc/883ab/1*h89l_KJR8w2NrzQXtPCAmw.jpg 2000w" src="/static/2f907534aeeb5fd6a8677478eff28ffc/30037/1*h89l_KJR8w2NrzQXtPCAmw.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></aside><aside class="Banner__Overlay-hibpma-1 hlSqCg"></aside><div class="bodyContent" style="color:white;position:relative"><header><h1>Building a humanised command-line interface with Node.js</h1></header><div><h2>Because config management sucks.</h2></div><aside>Published: <!-- -->13 Aug 2018</aside></div></header><div class="bodyContent"><div><p>Photo by <a href="https://unsplash.com/photos/R4WCbazrD1g?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText">Rock’n Roll Monkey</a> on <a href="https://unsplash.com/search/photos/robot-face?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText">Unsplash</a></p>
<h3>Background</h3>
<p>As a by-product of my day-to-day software development work I have created a lot of specific-task automation scripts. If there’s a task that I need to perform on a fairly regular basis that involves multiple steps and which <em>could</em> be automated, I <em>will</em> (eventually) write myself a script to automate it.</p>
<p>I do this because — generally speaking — I enjoy writing the scripts and because abstracting mundane tasks into these scripts reduces the cognitive overhead and frees my time up for thinking about other aspects of my day-to-day job.</p>
<h4>Configurable code</h4>
<p>It’s well established that hard-coding values into code instantly makes it less reusable, and that extracting those values into code variables is logical because it then becomes easier to reliably make broad changes to the code.</p>
<p>To make a script reusable without actually editing source code each time there are two common strategies. One of them is passing configuration as arguments on the command line, and the other is creating and editing a config file which stores the options in a more long-lived format. Command line arguments are good for one-off commands and config files are great for repeated reuse with the same settings.</p>
<h4>Problem</h4>
<p>Both command line arguments and configuration files require knowledge of the available options and a measure of preparation — neither is quite as easy as a GUI (Graphical User Interface) could make the experience, and neither of them typically have an intuitive interface.</p>
<p>I always assume that in a few months’ time I will have completely forgotten everything about how to configure my scripts, and with no hope of finding assistance on StackOverflow or Google I need to ensure that I make them straightforward and operator-friendly.</p>
<hr>
<h3>A humanised experience 🤖</h3>
<p>Essentially I want my command-line interfaces to be a little more human in their interactions with me and behave more like an artificial assistant like Alexa or Siri and less like a computer. That’s a <em>humanized experience.</em></p>
<p>Without further ado, let’s make a simple script <em>more human.</em></p>
<h4>Core code</h4>
<p>(Below) I have a Node.js script which communicates with the GitHub API to retrieve stats about a repository. It’s currently set up to take a configuration file in JSON format and also returns the output as JSON.</p>
<p><a
    class="gatsby-resp-image-link"
    href="/static/0a90cdb975131d4d197322eb0c5b6c61/d40c8/1*9wYVk5O73upqdOuwzQRhsg.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 630px;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 89.35000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACyklEQVQ4y52U2U4UQRiF5yW8MREYYKbprXpfprcZNtkGA4QYE1wGdGAQEYy+gPHGe+OFL1vHU7MkMGhAL06qu1N1/u9fqms/fv6S/fOPuLj6LM8/fILS4OIag/fXo/UB4hn59vQCX799l7WjV2eo103ZtEPMmR4WTYG5hoWZBQMz8wae1O/X7IKJR4/nZWd1G7Wz/qUMzRhxXEmRduCkOUTUgh2kMJ0Ehojvldq3oDnY3j2UtZN3A6R2jHZUIHczxCKFZUVomgGWlKwQ2nj9m3Q7wtyijc2dA9R6xwNoDQcBo3iMFnG17LHh0Iyy/tHQ1DMkySq8oIDrpvCcFIJ6CN0dw9fHp1hqRsi9EjHNnLDgmiGkof4/hscnAyxpIURcwGIjbD+GCBOYXjw+8GfDm4FuGb7pnSIyfARFBT3MmHICn3U0WU9VR+2Gbr5PTJVup3xyBs2JkcQlgoRiyhE77YlRc6alAimDm+Tqvd4YG75iDXU9RRWUSLI2orBEzvoFrKcysC2lcCihDC1VimhM64+mgd9nFy1s7OzTkClriwKpl7G7CRyS6ao5nE1BGWzQklfA8HLS0TCIR4FIavOMsBO4PKdzsLu7h6i97PXhay7WwwoVN6xEbbjtTXRJvByq52cQy4eIs01kBSdghfvcFvJsDUW+hY5bjs7SeG/vuSLsQ2/6iEigUlK1M70Wo/L6kc7kd4PzaZNauKTymQVTNlVJuFeVxCGhRsKt7sGI0Go62CTZml9glVQhaazOPoKyizSrkLRzZFE2rHPFGjtqAjgZk85PajhpitQbAh1SpCQqiR/FHbjJGuexDcdLIJLWkNwnuWqWPjWTxrjLJJTDpswbgVTXzfXVTcmZFg8xDZvRTRGSJkCDRBM1p6RM+QuTG9vs8uXVF+klFdrtp7LqrKPobKCs1pEWq2gNtXJH6ZSyck36/Fu9OOrJ3waNUlgYImr/AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="1 9wYVk5O73upqdOuwzQRhsg"
        title=""
        src="/static/0a90cdb975131d4d197322eb0c5b6c61/b2a12/1*9wYVk5O73upqdOuwzQRhsg.png"
        srcset="/static/0a90cdb975131d4d197322eb0c5b6c61/0c596/1*9wYVk5O73upqdOuwzQRhsg.png 158w,
/static/0a90cdb975131d4d197322eb0c5b6c61/8844e/1*9wYVk5O73upqdOuwzQRhsg.png 315w,
/static/0a90cdb975131d4d197322eb0c5b6c61/b2a12/1*9wYVk5O73upqdOuwzQRhsg.png 630w,
/static/0a90cdb975131d4d197322eb0c5b6c61/feebe/1*9wYVk5O73upqdOuwzQRhsg.png 945w,
/static/0a90cdb975131d4d197322eb0c5b6c61/c6d2c/1*9wYVk5O73upqdOuwzQRhsg.png 1260w,
/static/0a90cdb975131d4d197322eb0c5b6c61/d40c8/1*9wYVk5O73upqdOuwzQRhsg.png 2000w"
        sizes="(max-width: 630px) 100vw, 630px"
      />
  </span>
  </a></p>
<p>getstats.json</p>
<p>What the code (above) is doing is using the <strong>node-fetch</strong> module to make a request to the GitHub GraphQL API, and then it’s taking the response from that API and doing a bit of processing on the responses before spitting them back out as a string.</p>
<p>The information that’s absent from the source code and which is supplied by the config file is the <strong>repository owner</strong>, the <strong>repository name</strong>, a <strong>start date</strong> and an <strong>end date</strong>, all of which are used to identify the target repository and filter the response data.</p>
<p>For completeness, the GraphQL query used looks like this (below):</p>
<p><a
    class="gatsby-resp-image-link"
    href="/static/451743e6014dd979cb34c4d3ba31cbf0/d194e/1*WgKscWyWBMi_hdV0cR26Ew.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 630px;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 131.0119695321001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsSAAALEgHS3X78AAADT0lEQVRIx6VV227cVBSdd14QEogkbZKZZnwb2+f4cnwbl0YNl3J5QHwDUgVtiigVpYiiIiUzDS0t4ktAvFR8nBdr29Nk4kxLWh6WzvblLJ+99trbg2fP/mke/DLH7Nffm4Ojp5gd/Yb5w8eYEYeMZX04f4y53D96gkPGB7NHOJg/wqGshLzz84PD5s+//m4Gt+/cw7tvjZpQlXBVhchJUe9oxOMQcZAgtzQKW8PeCWC5Gls7HoZDG5vExsjB5sjG9qUJ3nhzrfny+s1mcPfH+83FkYe6vNx8VO8iTyqkUQUTc01KJBGRVkh0AR2X0KZEmpaICJVViA2fmZof8rH/zR0Mvv/hJ6xvOQjCHHtRjZjreJLAWgFb4C1dS0y4gcGFbQc39m93hBsk9MIMU54sUUW70fHTc2PCvRe23dOEPlOy+dDyTk5zfKoV18uxG2TY6J8wzqdIqwoqKZAybTlpGnMlRIYkypGFBRQ1TLICWZIjJALGhnu3qeHX+992hGtbdiv+h+Y9GBJJGu4L4ARcg0W8uJ6o/GzKouEHcY2KOo4XGh6n659OvQ+v1fBUyjaFzRERHoleVOXlyj6P7UWVz2iosyncKIPyDTS/GFJopTLaySAMJe7uT6ilkve0YZy1iOjXi0PvhHBt04Yh4W5+GYbCy0ZFaE1iErUxySUDn0XSsTwz8EnmM45pcmmOY0IxdsiXr+hpe7JzpeydpOxIylsrjL0bTZHrst14bNzJfxt7RVHYerSNS72cV+yStlNUr1Mk5bSsUUxrpPRhToixDbsnp3EjbohZDKNzDg4ZCiUyQ8NTPzF2UlSwnBA3b313YuyIBFfjbjhYk5f7bpUPz9hGGvx9EpZ9Df3zatjvFLZPSsv4rNjLqrzK3GLs9X6VFQelx2YXQk3rhM/NTb8FvCcGV2HnSTGzJgLVmVsGypDD4cayhoaEe2U3HKKgM3Zr6GjRLSxMa3i1MDfvh9ItYnJOoNF4iVCO6y8mdkENx0szz+rFVn9qTxa93E/Z5ddr3U3s/1WUu/fuN3IR8qckc02+9qqQfTIc6MPuN/rOxk77paEVYvQaGLsR3l6/hOtf3cLgydM/mt29j/HJZ1801z79HK8D7sWVq9eag9lR8y+XeWHDz2yEEgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="1 WgKscWyWBMi hdV0cR26Ew"
        title=""
        src="/static/451743e6014dd979cb34c4d3ba31cbf0/b2a12/1*WgKscWyWBMi_hdV0cR26Ew.png"
        srcset="/static/451743e6014dd979cb34c4d3ba31cbf0/0c596/1*WgKscWyWBMi_hdV0cR26Ew.png 158w,
/static/451743e6014dd979cb34c4d3ba31cbf0/8844e/1*WgKscWyWBMi_hdV0cR26Ew.png 315w,
/static/451743e6014dd979cb34c4d3ba31cbf0/b2a12/1*WgKscWyWBMi_hdV0cR26Ew.png 630w,
/static/451743e6014dd979cb34c4d3ba31cbf0/feebe/1*WgKscWyWBMi_hdV0cR26Ew.png 945w,
/static/451743e6014dd979cb34c4d3ba31cbf0/c6d2c/1*WgKscWyWBMi_hdV0cR26Ew.png 1260w,
/static/451743e6014dd979cb34c4d3ba31cbf0/d194e/1*WgKscWyWBMi_hdV0cR26Ew.png 1838w"
        sizes="(max-width: 630px) 100vw, 630px"
      />
  </span>
  </a></p>
<p>query.gql</p>
<p>Now we’ve got the code, how do we actually execute it and fetch our data?</p>
<h4>Executing scripts with command line options</h4>
<p>Without a humanised journey, I’d use a command like this (below) to execute my script return the repository stats:</p>
<p>node index.js psyked psyked.github.io 2018-08-08 2018-08-12</p>
<h4>Executing scripts with config files</h4>
<p>If I was taking the config file approach, I’d create a <code>.json</code> file with those settings in, save it as <code>psyked-config.json</code> in the same directory and then use the command (below) to run it:</p>
<p>node index.js ./psyked-config.json</p>
<p>It’s a little less to type on each execution and does ensure that the options would be the same each time, but it’s still not user friendly <em>enough.</em></p>
<h4>Humanised command line experiences</h4>
<p>The <em>humanised</em> approach starts with only the simplest command (below):</p>
<p>node index.js</p>
<p>From then on it switches over to an interactive experience, which looks like this (below) — asking questions, hinting at responses and finally mapping inputs into the same data structure that would exist in a proper config file.</p>
<p><img src="/1*a5eNNjsXIESU_a1EsTpqUA-7b5d53899a93389ac618aba3be4367c4.gif"></p>
<p>This experience is all facilitated by a module called <strong>Inquirer</strong>, which adds a really simple layer of code that supports several common types of question to the command line.</p>
<p><a href="https://github.com/SBoudrias/Inquirer.js" title="https://github.com/SBoudrias/Inquirer.js"><strong>SBoudrias/Inquirer.js</strong><br>
_Inquirer.js - A collection of common interactive command line user interfaces._github.com</a><a href="https://github.com/SBoudrias/Inquirer.js"></a></p>
<p>Inquirer can prompt for several types of data, chain questions together, validate the responses and more. To achieve the questions used in the screen capture above I’m using the following code (below):</p>
<p><a
    class="gatsby-resp-image-link"
    href="/static/b76b2a5fdcac5cb643a4e9afb221e92c/d194e/1*IRQ0WOaSRF9lV_-gu4ydbQ.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 630px;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 90.42437431991294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACW0lEQVQ4y5VUTWsTURSdvQsXFkzJR9OknWQ+Mh+ZmTeZmUxiqyKuii7aqqAuFAUbCm3QJkqoixhs8QNcKP4KRRDxx73jfTNJF5rUZHG4zPDu4Z57znvSz1+/+eD1EKOT93w4OsXwzQnSeprWOTB6+w6D4yH/9v0Hlw67fSwtlbiybiC/UkWGam5NRUFWkBXf2XVkcoT8bIhzFy4u80dP9rjU6x/zasVDzNqc2QF01kLNb8PyQ9hBlFTTDaGZ/kwY1LeypqOz34XU6w2gl024RGK4Maq6hwodUgwPWp1BtTyoJqP/Liq6k9S/oRoMuWIVzzoHkJ4fvUJhVYFrRzBYCMNrQKlRs+ZAVuqoqFQJ4lsgIdac8wkzhQo26020/Rje9RbY1Ra8K3FCXpvA9anR+4ds+oQlDTbtwSC5qs2gk1SdCDQ7lVqtjTFluqmE2aIC3w5RZwGsMBzvzUsOT+QvJHmZbN90YrRZE961FoIbbfhUTZ9cd/xx43RDpksua7CsBjTakZhucvDMEHX2dDMmrKBNpoRBE+5GDJOkaxZLYiP2KCBWMI1s5g7DegTfJGOCAHYUkjF+IjcxqL4goXDZIMkKNYlAy0qawRROgoUkZ/JyksM4SHNosEYynciegJh24vZ/J3xBhDnZEHcZkRXCakRnEifxUcYRmouw/3KAcq0BJ74Jz9tAQFdQN9JAKxT0BLXzodO6CiUVe/uHkA66R/zS5SJW6dkS8SnQqyFejuK4zoOSbII4+OOnHS59/vKVb93axu69h3znzn0IbC+I3bsPsHV7h3/4+In/AXqlYV+gkV4CAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="1 IRQ0WOaSRF9lV  gu4ydbQ"
        title=""
        src="/static/b76b2a5fdcac5cb643a4e9afb221e92c/b2a12/1*IRQ0WOaSRF9lV_-gu4ydbQ.png"
        srcset="/static/b76b2a5fdcac5cb643a4e9afb221e92c/0c596/1*IRQ0WOaSRF9lV_-gu4ydbQ.png 158w,
/static/b76b2a5fdcac5cb643a4e9afb221e92c/8844e/1*IRQ0WOaSRF9lV_-gu4ydbQ.png 315w,
/static/b76b2a5fdcac5cb643a4e9afb221e92c/b2a12/1*IRQ0WOaSRF9lV_-gu4ydbQ.png 630w,
/static/b76b2a5fdcac5cb643a4e9afb221e92c/feebe/1*IRQ0WOaSRF9lV_-gu4ydbQ.png 945w,
/static/b76b2a5fdcac5cb643a4e9afb221e92c/c6d2c/1*IRQ0WOaSRF9lV_-gu4ydbQ.png 1260w,
/static/b76b2a5fdcac5cb643a4e9afb221e92c/d194e/1*IRQ0WOaSRF9lV_-gu4ydbQ.png 1838w"
        sizes="(max-width: 630px) 100vw, 630px"
      />
  </span>
  </a></p>
<p>index.js</p>
<p>… and that’s about it. Humanised command-line interfaces with Node.js.</p>
<p>The big advantage that this approach has over other options is that playing around with the data feels so much easier. Putting all the values on a single line feels like an arduous process, especially if you make a mistake. Creating and editing multiple config files is much the same, but following an old-school wizard approach to running scripts? That’s fun. 🎩</p>
<hr>
<h3>Conclusion?</h3>
<p>The <strong>Inquirer.js</strong> module makes it easy to make command line interfaces more operator friendly. It’s simple to author the questions and map the results into our code, and the experience at the outcome far outweighs the effort spent configuring the module.</p></div><hr class="endPost"/><aside class="sourcepost-module--root--WEjHy">This article was originally published at <a href="https://medium.com/comparethemarket/building-a-humanised-command-line-interface-with-node-js-d951273a3d94">https://medium.com/comparethemarket/building-a-humanised-command-line-interface-with-node-js-d951273a3d94</a></aside><aside><span class="tags-module--tagsLabel--1AV4E">Tagged as:</span><span class="tags-module--tag--3kCeK"><a href="/tag/javascript">JavaScript</a><span>, </span></span><span class="tags-module--tag--3kCeK"><a href="/tag/nodejs">Nodejs</a><span>, </span></span><span class="tags-module--tag--3kCeK"><a href="/tag/command-line-interface">Command Line Interface</a><span>, </span></span><span class="tags-module--tag--3kCeK"><a href="/tag/user-experience">User Experience</a><span>, </span></span><span class="tags-module--tag--3kCeK"><a href="/tag/tech">Tech</a></span></aside></div><aside class="bodyContent tiles-module--tileContainer--3FpOW"><section class="tiles-module--tile--2kwde"><a href="/blog/colours-a-lightning-talk/"><aside class="tiles-module--imageContainer--9DUT4"><div class="tiles-module--wrapper--2oIOd gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:56.25%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAACoUlEQVQozxXR609ScRgH8N909sJVA7O1WqumyynmrU1tk2pZioITlSAvrVpSmSRUXuBw8ACHw4ETIOeg54jiMryQUwazdCne8J4mxYs2y/f9Ea01+rU9L57LPm++D6AoqloiKcrKRedGCsPbBL2m073Y/RLzcP0isUgiknAedn/3M9KtNtC7SpYZnsBycwrFEjGEgGXZx0rlfend9iCb93EBwWZzMrMxVfvhZjwa3giuzGwd7qtMeE7eWYKeecZhLt9reUNzq7IVQmA2m90M89bDKoZsZUHufX+5MajI8gcF4w3XAgX+kukJATqVn1mfrW9s+YCyCq29zcv6aIaGEFgsFpywuIy4YtRVOj+Q+JUylbgH/iSSEk1gCUTB9wSYTSQBGQiknk5007WGvidW/A1EEAKn04njOGW1dlJkK2Wqqz5+VXSJV1PPl15OFaQIUvPr+EJp+smME8U8vlRtNKOk1Wa1QgIhQFHUaiF67cRYuyFUqz7GS5PVygk9gmq01bfF5VW3VD0aVY8WRpfGA680e72GOYLQEwQJISBJkna7PT6v92n37ENMUFJckHelQ91hwFCz2ehhmLF3o4HJcbuNannQ9LLrm0434/X2ud0MhAAmrkcQtbZzrNO+LmvWd8gxE66QN6afyigqvVlZI6u4I5ueDv7+mwgP6bG2IE6udnU9RxD0/6sGBwevC4VnLp6bd04elOeOI5WfVle2omLWDwbEyUxVstsHFucrAqGQX1PieUT2j/y8cJ4vFN6AEHAc53Q43AztIqhhVEvbDIZefIjTxo5kP9xlsL4eyX1eHWYiPDa9E3eSNo6mXQ6HE0IQj8cjkUjsILa4FFnb2o5ubC0vL+3sHIRDm5HoHizYwBEu4Wl9cz0SWYjFYpBA+A9Lg0UzhvGkkgAAAABJRU5ErkJggg==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><img loading="lazy" sizes="(max-width: 630px) 100vw, 630px" srcset="/static/419d9a874d376f9e3cd17589cf479237/d9446/1*sLQprE7Kw6UKNsNsE1UEeA.png 158w,
/static/419d9a874d376f9e3cd17589cf479237/2f6e7/1*sLQprE7Kw6UKNsNsE1UEeA.png 315w,
/static/419d9a874d376f9e3cd17589cf479237/57090/1*sLQprE7Kw6UKNsNsE1UEeA.png 630w,
/static/419d9a874d376f9e3cd17589cf479237/4ace0/1*sLQprE7Kw6UKNsNsE1UEeA.png 945w,
/static/419d9a874d376f9e3cd17589cf479237/bc549/1*sLQprE7Kw6UKNsNsE1UEeA.png 960w" src="/static/419d9a874d376f9e3cd17589cf479237/57090/1*sLQprE7Kw6UKNsNsE1UEeA.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></aside><div class="tiles-module--blackout--ElFOE"></div><h3>Colours: A lightning Talk ⚡️</h3><p>I find colours fascinating, and I write code that goes into websites, so there’s bound to be a natural intersection between those two…</p><p class="tiles-module--date--aIswY">24 Sep 2018</p></a></section><section class="tiles-module--tile--2kwde"><a href="/blog/rethinking-my-personal-website/"><aside class="tiles-module--imageContainer--9DUT4"><div class="tiles-module--wrapper--2oIOd gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:71.5%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwACBf/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHSE02V0Kg//8QAHBAAAgEFAQAAAAAAAAAAAAAAAQIDAAQREhMj/9oACAEBAAEFAlhYKI/FrUMQcnm+vMCv/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Bh//EABYRAAMAAAAAAAAAAAAAAAAAABARIf/aAAgBAgEBPwF0f//EAB0QAAICAgMBAAAAAAAAAAAAAAABAhExgRIhInH/2gAIAQEABj8CqaUh+n8L5z2jLp5KtU3k7bez/8QAHBAAAgIDAQEAAAAAAAAAAAAAAREAMSFBUZGx/9oACAEBAAE/ITnAL37AUmb6iEC+phTrQiXAXPsWcKTvpT5P/9oADAMBAAIAAwAAABBPz//EABgRAAMBAQAAAAAAAAAAAAAAAAABESFB/9oACAEDAQE/EGsvDD//xAAXEQEBAQEAAAAAAAAAAAAAAAABABFB/9oACAECAQE/EB6Oxt//xAAeEAEBAAIBBQEAAAAAAAAAAAABEQAxIUFRYYGR8f/aAAgBAQABPxAGCEigehX7hAVmgRb+zEJwac+9sIQydkDieMkwnQBZuDHjJiHKz0BAGf/Z" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><img loading="lazy" sizes="(max-width: 630px) 100vw, 630px" srcset="/static/6c1a7e5de375ba8fa727a7257128bcea/10bdc/1*83xPh48eAhxdgQmOIH-9jQ.jpg 158w,
/static/6c1a7e5de375ba8fa727a7257128bcea/f4ab0/1*83xPh48eAhxdgQmOIH-9jQ.jpg 315w,
/static/6c1a7e5de375ba8fa727a7257128bcea/30037/1*83xPh48eAhxdgQmOIH-9jQ.jpg 630w,
/static/6c1a7e5de375ba8fa727a7257128bcea/9810d/1*83xPh48eAhxdgQmOIH-9jQ.jpg 945w,
/static/6c1a7e5de375ba8fa727a7257128bcea/ff2e4/1*83xPh48eAhxdgQmOIH-9jQ.jpg 1260w,
/static/6c1a7e5de375ba8fa727a7257128bcea/883ab/1*83xPh48eAhxdgQmOIH-9jQ.jpg 2000w" src="/static/6c1a7e5de375ba8fa727a7257128bcea/30037/1*83xPh48eAhxdgQmOIH-9jQ.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></aside><div class="tiles-module--blackout--ElFOE"></div><h3>Rethinking my “personal” website.</h3><p>Repositioning, repurposing and ultimately rebuilding and replacing my Ghost blog with a Gatsby static site.</p><p class="tiles-module--date--aIswY">29 Jul 2018</p></a></section></aside></main><footer id="footer"></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"blog-building-a-humanised-command-line-interface-with-node-js-1e2","path":"/blog/building-a-humanised-command-line-interface-with-node-js/"};window.dataPath="490/path---blog-building-a-humanised-command-line-interface-with-node-js-1-e-2-11e-BVgULO9gs7LU7BsvcDIE3vseI";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-523774c7d59d91decc83.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-ceb71cbd593f5997e7c9.js"],"component---src-templates-tag-list-template-js":["/component---src-templates-tag-list-template-js-c735563daaace564cd21.js"],"component---src-pages-blog-jsx":["/component---src-pages-blog-jsx-5991289efbc91f642db0.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-67a21b35f9ec9a4411d9.js"],"component---src-pages-speaking-jsx":["/component---src-pages-speaking-jsx-7564fbf9ad5033a58d45.js"],"component---src-pages-tags-jsx":["/component---src-pages-tags-jsx-e2841dbac4f3e179db90.js"],"pages-manifest":["/pages-manifest-97bafc6c5321409a3156.js"]};/*]]>*/</script><script src="/webpack-runtime-f49c063d17dec9ee358c.js" async=""></script><script src="/styles-febc33b797b051cb2e7a.js" async=""></script><script src="/1-3e750456ca4431761d32.js" async=""></script><script src="/11-136b333296f119c7f06b.js" async=""></script><script src="/app-523774c7d59d91decc83.js" async=""></script><script src="/component---src-templates-blog-post-js-ceb71cbd593f5997e7c9.js" async=""></script></body></html>