<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.780986171a3ec41f644d.css">.banner-module--image--1QG6I{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.banner-module--imageContainer--3KrUF{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.banner-module--wrapper--1xRxG{height:100%}.banner-module--header--37G4J{background:50%/cover #00003d;position:relative;padding-top:2em;padding-bottom:3em}.banner-module--container--ocgDf{position:absolute;width:100%;height:100%;top:0;left:0;background:rgba(0,0,61,.6)}.tiles-module--image--1-ejc{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.tiles-module--imageContainer--9DUT4{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.tiles-module--wrapper--2oIOd{height:100%}.tiles-module--tile--2kwde{display:-webkit-flex;display:flex;-webkit-flex:1 1;flex:1 1;padding:2em;position:relative}.tiles-module--tile--2kwde a{color:#fcfcfd;text-decoration:none}.tiles-module--tile--2kwde h3,.tiles-module--tile--2kwde p{position:relative}.tiles-module--tile--2kwde h3{border-bottom:.1em dotted #fcfcfd;margin-top:0}.tiles-module--tile--2kwde .tiles-module--date--aIswY{border-top:1px solid #fcfcfd;display:inline-block}.tiles-module--tileContainer--3FpOW{width:100%;height:calc(33vw - 2em);display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-justify-content:stretch;justify-content:stretch;margin-top:2em;margin-bottom:2em}.tiles-module--blackout--ElFOE{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,61,.6)}.tags-module--tagsLabel--1AV4E{display:inline-block;margin-right:.5em}.tags-module--tag--3kCeK{display:inline-block;margin-right:.25em;white-space:nowrap}.tags-module--tag--3kCeK a{color:#2a2a37;text-decoration:none;border-bottom:1px dotted #2a2a37}.sourcepost-module--root--WEjHy{margin:1em -2em;padding:1em 2em;background:linear-gradient(90deg,#d0d0dc 0,#d0d0dc 8px,#eeeef2 0)}.header-module--menuLink--17w_4{margin-right:.5em;color:#fcfcfd}.header-module--active--2pIok{color:#f0194b}.header-module--root--3b321{background:#2a2a37;padding:.5em}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}html{font-family:Roboto,sans-serif}h1,h2,h3,h4,h5,h6{font-family:Open Sans,sans-serif}img{max-width:100%}body{margin:0;padding:0;background:#fcfcfd}html{font-size:16px;line-height:1.5}@media (min-width:320px){html{font-size:calc(16px + (200vw - 640px)/1046)}}@media (min-width:1366px){html{font-size:18px}}h1{font-size:2em}@media (min-width:20em){h1{font-size:calc(2em + (100vw - 20em)/50)}}@media (min-width:70em){h1{font-size:3em}}pre{overflow:scroll;background:#eeeef2;padding:.5em;margin:2em -.5em}.bodyContent{box-sizing:border-box;margin:0 auto;max-width:60em;padding-left:16px;padding-right:16px}@media (min-width:320px){.bodyContent{padding-left:calc(7.14286vw - 6.85714px)}}@media (min-width:768px){.bodyContent{padding-left:48px}}@media (min-width:320px){.bodyContent{padding-right:calc(7.14286vw - 6.85714px)}}@media (min-width:768px){.bodyContent{padding-right:48px}}hr{background:#2a2a37;border:0;height:1px;margin:0 auto;max-width:60em;overflow:visible;text-align:center}@media (min-width:20em){hr{margin-top:calc(2em + (200vw - 40em)/50)}}@media (min-width:70em){hr{margin-top:4em}}@media (min-width:20em){hr{margin-bottom:calc(2em + (200vw - 40em)/50)}}@media (min-width:70em){hr{margin-bottom:4em}}hr:after{background:#fcfcfd;content:"\2022   \2022   \2022";display:inline-block;font-size:1.4em;padding:0 .4em;position:relative;top:-.7em}hr.endPost{background:#f0194b}hr.endPost:after{color:#f0194b;content:"END";font-size:.7em;top:-1.2em}p>.gatsby-resp-image-link{width:calc(50% - .5em);float:left}p>.gatsby-resp-image-link:first-child{margin-right:1em}p>.gatsby-resp-image-link:last-child:after{content:"";display:block;float:none}p>.gatsby-resp-image-link:only-child{float:none;width:100%;margin-right:0}p>img{max-width:100%;width:auto;margin:0 auto}blockquote{position:relative;padding:1em 3.33em;margin:1em 0;background:#e3f4fb;font-style:italic}blockquote:before{content:"\201C";top:0;left:.33em}blockquote:after,blockquote:before{font-style:normal;font-family:serif;font-weight:700;position:absolute;font-size:3em;color:#00b0f0}blockquote:after{content:"\201D";bottom:0;right:.33em}.external-profiles{display:-webkit-flex;display:flex;list-style:none;margin:0;padding:0}.external-profiles li{display:-webkit-flex;display:flex;-webkit-flex:1 1 auto;flex:1 1 auto;margin:.5em;padding:1em .5em;text-align:center;border:.1em solid}.external-profiles li:first-child{margin-left:0}.external-profiles li:last-child{margin-right:0}.external-profiles li a{margin:auto}.external-profiles li svg{width:100%;height:2em}</style><meta name="generator" content="Gatsby 2.3.24"/><title data-react-helmet="true">RunMaps v2.0: Breaking free of Mapbox | Psyked: James&#x27; Web Development website</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:site" content="@psyked"/><meta data-react-helmet="true" name="twitter:creator"/><meta data-react-helmet="true" name="twitter:title" content="RunMaps v2.0: Breaking free of Mapbox"/><meta data-react-helmet="true" name="twitter:description" content="Replacing Mapbox API Vector Tiles with the OpenStreetMap Overpass API, for fun, profit and better output rendering."/><meta data-react-helmet="true" name="twitter:image" content="/static/f4b8dc3b12937f23de6775d40d0198b8/57090/1*XDK58wHmThVh24H1t35QNA.png"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-02f49ce09c384d3de99f.js"/><link as="script" rel="preload" href="/app-b4c7c5a751c66bcac7f5.js"/><link as="script" rel="preload" href="/10-1d4e27b19692d6b54d15.js"/><link as="script" rel="preload" href="/1-1e7fdda0a90b05b5dee1.js"/><link as="script" rel="preload" href="/styles-2ff1b9acc88c62f21cac.js"/><link as="script" rel="preload" href="/webpack-runtime-6f40f2e09b46b2553e19.js"/><link as="fetch" rel="preload" href="/static/d/912/path---blog-runmaps-v-2-0-breaking-free-of-mapbox-02-b-f1a-ZBCQa4uxtrz7HgfZiqL7VRnrdKk.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div><header class="banner-module--header--37G4J"><aside class="banner-module--imageContainer--3KrUF"><div class="banner-module--wrapper--1xRxG gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:54.166666666666664%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABq0lEQVQoz01S2XLbMAzU//9YnvrUTBOnbp3YSSzroijqIiV5g4VNjjWDAQSAi8WS2bZtWJYlWd/3GMcR/NZ1TXnG0zSl+Hq9ajzPs/5HnCwWvPfqQwhwziXgdED66KMRgL2sP57PYkNMxEld1ymo1plfQgLjxz6eoRGYnrksFmMjGV/v04dhwCQMvOvg8y+EOxMa2bMnDb2zznRNJjZZSRKRIYF5sLUWfWvQfx5VQ8pxuVzQNA2MMbpJBOMZBZzKC3xdYnsQN4J2AlDlZ5jDXgBa1HUtVqmvqpufhWnbtjcNCeI7i3D+RLAm6UOxCTjIaqYsYI8HWW9QhmRNMLKsigL16QNFWSrbLMhaVC80FbypsUk8y2rUKN7uLI3u4z9GyVPT4nTEy/NvfH0Lc2HY7F9vNTFd2QvldeixjIPqSLHjRU3TjN62MLI289S62u9w/PumGo7Ctnx9xtA7jGKZJoWN90E0WNPDjaa3LXUrqzq5bStsu/M3bJGjO71jPB1gfj2h2L2g3P1BRpq8eiuT8jxX2o9g8XHTc3ghmnEABzsnj18GmX9vqm8v8Q+8+VR6x5ZUigAAAABJRU5ErkJggg==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:0.5s"/><noscript><picture><img sizes="(max-width: 630px) 100vw, 630px" srcset="/static/f4b8dc3b12937f23de6775d40d0198b8/d9446/1*XDK58wHmThVh24H1t35QNA.png 158w,
/static/f4b8dc3b12937f23de6775d40d0198b8/2f6e7/1*XDK58wHmThVh24H1t35QNA.png 315w,
/static/f4b8dc3b12937f23de6775d40d0198b8/57090/1*XDK58wHmThVh24H1t35QNA.png 630w,
/static/f4b8dc3b12937f23de6775d40d0198b8/4ace0/1*XDK58wHmThVh24H1t35QNA.png 945w,
/static/f4b8dc3b12937f23de6775d40d0198b8/ba299/1*XDK58wHmThVh24H1t35QNA.png 1200w" src="/static/f4b8dc3b12937f23de6775d40d0198b8/57090/1*XDK58wHmThVh24H1t35QNA.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></aside><div class="banner-module--container--ocgDf"></div><div class="bodyContent" style="color:white;position:relative"><header><h1>RunMaps v2.0: Breaking free of Mapbox</h1></header><div><h2>Replacing Mapbox API Vector Tiles with the OpenStreetMap Overpass API, for fun, profit and better output rendering.</h2></div><aside>Published: <!-- -->26 May 2018</aside></div></header><div class="bodyContent"><div><p>In my previous post, <a href="https://medium.com/@psyked/generating-run-maps-with-node-js-52738014d3dc">â€˜Generating Run Maps with Node.jsâ€™</a>, I talked through the winding path that eventually led me to a place where Iâ€™d hooked up data from my activities on Fitbit with data from the Mapbox APIs and created a scalable vector image representation of my activity. Itâ€™s been a few weeks since that last post, Iâ€™ve had the opportunity to develop this project further, and now Iâ€™m going to talk about the next significant change; <em>dropping Mapbox.</em></p>
<h4>Why dropÂ Mapbox?</h4>
<p><a href="https://www.mapbox.com/">Mapbox</a> is pretty neat, but itâ€™s an entire ecosystem of tools geared towards delivering custom styled maps, and I wasnâ€™t really using it correctly. All I actually wanted was GeoJSON data representing an area, and I got that by unpacking their APIs and then stitching and re-rendering the content myself. It was a rough solution based on what I understood at the time, but when I started reviewing the end result it became apparent that something wasnâ€™t right with the data I was receiving.</p>
<p>Take a closer look at this image, and youâ€™ll see a few problemsâ€Šâ€”â€Šwhich Iâ€™ve outlined in redâ€Šâ€”â€Šthat come with the approach of stitching together SVG tiles:</p>
<p><a
    class="gatsby-resp-image-link"
    href="/static/f4b8dc3b12937f23de6775d40d0198b8/6ff5e/1*XDK58wHmThVh24H1t35QNA.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 630px;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 54.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABq0lEQVQoz01S2XLbMAzU//9YnvrUTBOnbp3YSSzroijqIiV5g4VNjjWDAQSAi8WS2bZtWJYlWd/3GMcR/NZ1TXnG0zSl+Hq9ajzPs/5HnCwWvPfqQwhwziXgdED66KMRgL2sP57PYkNMxEld1ymo1plfQgLjxz6eoRGYnrksFmMjGV/v04dhwCQMvOvg8y+EOxMa2bMnDb2zznRNJjZZSRKRIYF5sLUWfWvQfx5VQ8pxuVzQNA2MMbpJBOMZBZzKC3xdYnsQN4J2AlDlZ5jDXgBa1HUtVqmvqpufhWnbtjcNCeI7i3D+RLAm6UOxCTjIaqYsYI8HWW9QhmRNMLKsigL16QNFWSrbLMhaVC80FbypsUk8y2rUKN7uLI3u4z9GyVPT4nTEy/NvfH0Lc2HY7F9vNTFd2QvldeixjIPqSLHjRU3TjN62MLI289S62u9w/PumGo7Ctnx9xtA7jGKZJoWN90E0WNPDjaa3LXUrqzq5bStsu/M3bJGjO71jPB1gfj2h2L2g3P1BRpq8eiuT8jxX2o9g8XHTc3ghmnEABzsnj18GmX9vqm8v8Q+8+VR6x5ZUigAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="1 XDK58wHmThVh24H1t35QNA"
        title=""
        src="/static/f4b8dc3b12937f23de6775d40d0198b8/b2a12/1*XDK58wHmThVh24H1t35QNA.png"
        srcset="/static/f4b8dc3b12937f23de6775d40d0198b8/0c596/1*XDK58wHmThVh24H1t35QNA.png 158w,
/static/f4b8dc3b12937f23de6775d40d0198b8/8844e/1*XDK58wHmThVh24H1t35QNA.png 315w,
/static/f4b8dc3b12937f23de6775d40d0198b8/b2a12/1*XDK58wHmThVh24H1t35QNA.png 630w,
/static/f4b8dc3b12937f23de6775d40d0198b8/feebe/1*XDK58wHmThVh24H1t35QNA.png 945w,
/static/f4b8dc3b12937f23de6775d40d0198b8/6ff5e/1*XDK58wHmThVh24H1t35QNA.png 1200w"
        sizes="(max-width: 630px) 100vw, 630px"
      />
  </span>
  </a></p>
<p>Invalid / cropped area shapes from Mapbox API responses.</p>
<p>Those horizontal and vertical lines are the hard edges of what should be large shapes on the map. In the Mapbox API responses theyâ€™ve been cropped and the shapes from adjacent tiles overlap, a behaviour thatâ€™s based around the slicing up of the map data into Vector Tiles. Thatâ€™s a problem for me because I actually want the unadulterated shapes, and I want the ability to style those shapes with semi-transparent colours, which I canâ€™t do that if the shapes are overlapping.</p>
<h4>Alternative data sourcesÂ ğŸ’¡</h4>
<p>Fortunately Iâ€™ve already been exploring alternative sources of mapping data (more on that later) and deduced that I could probably get all of the data that I need directly from <a href="https://www.openstreetmap.org/">OpenStreetMap</a>â€Šâ€”â€Šthey even have a public (no login!) way of fetching that data directly from their servers: the <a href="https://wiki.openstreetmap.org/wiki/Overpass_API">Overpass API.</a></p>
<h4>Stepping stonesÂ ğŸ‘Ÿ</h4>
<p>My efforts bumbling through code so far have left me with the ability to render a map using prefabricated GeoJSON data (aka. the data I get back from the Mapbox API), with the knowledge that I can generate simple GeoJSON objects using GPS coordinates from Fitbit data, and with a strategy for rendering the whole lot as SVG objects in a browser using D3.js.</p>
<h4>Cutting out MapboxÂ âœ‚ï¸</h4>
<p>The existing [Mapbox-powered] rendering process looks like this:</p>
<ol>
<li>Load route data from Fitbit</li>
<li>Calculate the map centre point and bounds</li>
<li>Pass the bounds to the Mapbox JS library and let it fetch the MVT response</li>
<li>Unpack the MVT protobuff response and convert it to GeoJSON Tiles</li>
<li>Use D3 to render each GeoJSON tile as an SVG object</li>
<li>Use D3 to position each SVG tile correctly on-screen</li>
<li>Generate a GeoJSON representation of the route data from Fitbit</li>
<li>Use D3 to render the GeoJSON route over the top of the SVG tiles</li>
</ol>
<p>It works, but itâ€™s a lot of back-and-forth between libraries and is more complex than Iâ€™d like. However, substituting Mapbox for the Overpass API gives me the following render process:</p>
<ol>
<li>Load route data from Fitbit</li>
<li>Calculate the map centre point and bounds</li>
<li>Pass the bounds to the Overpass API</li>
<li>Convert the API response to GeoJSON using the osmtogeojson library</li>
<li>Use D3 to render the single GeoJSON object as an SVG</li>
<li>Generate a GeoJSON representation of the route data from Fitbit</li>
<li>Use D3 to render the GeoJSON route over the top of the SVG tiles</li>
</ol>
<p>Itâ€™s arguably <em>one less</em> step than before, but the key gain here is that the GeoJSON response we get hasnâ€™t been sliced up or cropped in any way, and thereâ€™s no tiles to worry about. Naturally thereâ€™s a lot thatâ€™s changed in the response data; Mapbox does a good job of curating its map information whereas the response from the Overpass API is a little more freeform, but the core details are still the same, which is all I need.</p>
<h4>Working with The OverpassÂ API</h4>
<p>The <a href="https://wiki.openstreetmap.org/wiki/Overpass_API">Overpass API</a> allows queries to OpenStreetMap using Overpass QL, with an URL such as the one below, which takes bounding box coordinates that define a rectangular area and returns XML for all of the geography and amenities in the specified area.</p>
<p><a href="https://api.openstreetmap.org/api/0.6/map?bbox=-0.6428667113485337,52.58258428865147,-0.4982212886514664,52.727229711348535">https://api.openstreetmap.org/api/0.6/map?bbox=-0.6428667113485337,52.58258428865147,-0.4982212886514664,52.727229711348535</a></p>
<p>The output is an impressive 10Mb of XML data, so Iâ€™m not going to include it here, but it includes (a lot of) elements like this:</p>
<way id="250040917" visible="true" version="3" changeset="49132008" timestamp="2017-05-31T10:58:44Z" user="brianboru" uid="9065">  
  <nd ref="2565612416"/>  
  <nd ref="2565612409"/>  
  <nd ref="2565612404"/>  
  <nd ref="2565612402"/>  
  <nd ref="2565612400"/>  
  <nd ref="2565612399"/>  
  <nd ref="2565612397"/>  
  <nd ref="2565612395"/>  
  <nd ref="2565612394"/>  
  <nd ref="2565612392"/>  
  <nd ref="2565612391"/>  
  <nd ref="2565612390"/>  
  <nd ref="2565612388"/>  
  <nd ref="4880073434"/>  
  <tag k="highway" v="trunk_link"/>  
  <tag k="highways_england:area" v="6"/>  
  <tag k="oneway" v="yes"/>  
  <tag k="operator" v="Highways England"/>  
</way>
<p>Of course, thatâ€™s not GeoJSON data, which is what I really want. Fortunately thereâ€™s already a Javascript module that makes things easy called <strong>osmtogeojson</strong> which I can integrate using the following code:</p>
<p>import osmtogeojson from "osmtogeojson";<br>
import axios from "axios";</p>
<p>const data = await axios<br>
.get(`<a href="https://api.openstreetmap.org/api/0.6/map?bbox=$%7Bx0%7D,$%7By0%7D,$%7Bx1%7D,$%7By1%7D%5C%60">https://api.openstreetmap.org/api/0.6/map?bbox=${x0},${y0},${x1},${y1}`</a>)<br>
.then(({ request: { <em>responseXML</em> } }) => responseXML);</p>
<p>const osmgeojsondata = osmtogeojson(data);</p>
<p>What does the combined output look like? Much the same, fortunately, except thereâ€™s no cropping or tiling mess to worry about. Hurrah! ğŸ‰</p>
<p><a
    class="gatsby-resp-image-link"
    href="/static/c4fe29e81d3367d9d8cf20d6626cc61a/d40c8/1*TB_SVvse2S-qdgFHkrsDxA.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 630px;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABDUlEQVQoz1XRTXKDMAwFYO5/NRbZcgIWgSRACEkKLf3wm2amWnhkSe/HcvVT4vV6PR6P+/3+fD73fVfJ+V1Csq7rtm26WwlFA5XqXkIJRdrv91tb66uEoopkHMcgw17JVJVcJMSnaVqWZZ5nJzu32+16vcpRy8P7DyzihMhYou97o5JhGNBhmUoYwBKxKm92iX/E5/MZxjRxRiRkL5cLlq7ruECqRazKVijjA5bj1nNFBwbTNE1d123bouCIPlIDFUBWTfOz1blEWOicTqeAYz5vPJSzp88O57/AraKehXkIFwSimfnDNnC2F/95ZE4s2ZYEki9X5u3lAOczs7bk+VVImh4MSSpfla4ThesvkoVCg8Ed6VMAAAAASUVORK5CYII='); background-size: cover; display: block;"
    ></span>
    <img
        class="gatsby-resp-image-image"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;"
        alt="1 TB SVvse2S qdgFHkrsDxA"
        title=""
        src="/static/c4fe29e81d3367d9d8cf20d6626cc61a/b2a12/1*TB_SVvse2S-qdgFHkrsDxA.png"
        srcset="/static/c4fe29e81d3367d9d8cf20d6626cc61a/0c596/1*TB_SVvse2S-qdgFHkrsDxA.png 158w,
/static/c4fe29e81d3367d9d8cf20d6626cc61a/8844e/1*TB_SVvse2S-qdgFHkrsDxA.png 315w,
/static/c4fe29e81d3367d9d8cf20d6626cc61a/b2a12/1*TB_SVvse2S-qdgFHkrsDxA.png 630w,
/static/c4fe29e81d3367d9d8cf20d6626cc61a/feebe/1*TB_SVvse2S-qdgFHkrsDxA.png 945w,
/static/c4fe29e81d3367d9d8cf20d6626cc61a/c6d2c/1*TB_SVvse2S-qdgFHkrsDxA.png 1260w,
/static/c4fe29e81d3367d9d8cf20d6626cc61a/c2216/1*TB_SVvse2S-qdgFHkrsDxA.png 1890w,
/static/c4fe29e81d3367d9d8cf20d6626cc61a/d40c8/1*TB_SVvse2S-qdgFHkrsDxA.png 2000w"
        sizes="(max-width: 630px) 100vw, 630px"
      />
  </span>
  </a></p>
<p>Finally, much improved mapping data, without any cropping weirdness!</p>
<hr>
<p>Next up, Iâ€™m going to take these SVGs and apply some snazzy styling to make the output look ğŸ‘Œ.</p></div><hr class="endPost"/><aside class="sourcepost-module--root--WEjHy">This article was originally published at <a href="https://medium.com/@psyked/runmaps-v2-0-breaking-free-of-mapbox-dbe3c3ca1a01">https://medium.com/@psyked/runmaps-v2-0-breaking-free-of-mapbox-dbe3c3ca1a01</a></aside><aside><span class="tags-module--tagsLabel--1AV4E">Tagged as:</span><span class="tags-module--tag--3kCeK"><a href="/tag/mapbox">Mapbox</a><span>, </span></span><span class="tags-module--tag--3kCeK"><a href="/tag/openstreetmap">Openstreetmap</a><span>, </span></span><span class="tags-module--tag--3kCeK"><a href="/tag/side-project">Side Project</a><span>, </span></span><span class="tags-module--tag--3kCeK"><a href="/tag/d3js">D3js</a><span>, </span></span><span class="tags-module--tag--3kCeK"><a href="/tag/geojson">Geojson</a></span></aside></div><aside class="bodyContent tiles-module--tileContainer--3FpOW"><section class="tiles-module--tile--2kwde"><a href="/blog/runmaps-3-colour-schemes-and-labels/"><aside class="tiles-module--imageContainer--9DUT4"><div class="tiles-module--wrapper--2oIOd gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:50%"></div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABiUlEQVQozy1S227jIBDN///aSqtWWjVNm9Y25s4MMwND1MfFTiUkLuJwblxUqw4CdCl+kUClNAapUu91DD6G0jypuhv/4sK79KqKrcMEXg6w1segn58Osvp0a72AuN6RNeT2ldqnh6vBvzu+5Potx6N0EtTLnObtrjgZeERGw+F7h1dsjrrLdK+0I5gKe6NE4EhK79Bb+WWeyKlzLqZIrakl39BLtg1iZ1BByC4Fk/y2r7eU15C3UvbJ+iv7BNNzTXkT8IKBi5Nkk1uj2+zyGe1SMYS0RHbYqOsJfjxYx8ygPMmxmxTfpIRadgaLbru9/vH3Kyfv5gbvlj5QMrVTds62oO16BKhnyJk/Md4lOS5bDvdl/chui+gymkjX2s0YMJ6eRUAaHJkNnsFANn1glNuZZTLwT7QA20jrtAbNorgj7el59jllj1FPzcQCs21WKm1njZ6NJyuSA65LfEt1Ly1hS7PI2fbl/AzPqIh7pQYgngRRMLHP7Ke3SoU5dC3YQpRchBas17z+B99OKm0F29kdAAAAAElFTkSuQmCC" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:0.5s"/><noscript><picture><img sizes="(max-width: 630px) 100vw, 630px" srcset="/static/7deb149afe31e8b997ed26eb3755d633/d9446/1*w4ALp74pUYzMQl3Nt8p3aA.png 158w,
/static/7deb149afe31e8b997ed26eb3755d633/2f6e7/1*w4ALp74pUYzMQl3Nt8p3aA.png 315w,
/static/7deb149afe31e8b997ed26eb3755d633/57090/1*w4ALp74pUYzMQl3Nt8p3aA.png 630w,
/static/7deb149afe31e8b997ed26eb3755d633/4ace0/1*w4ALp74pUYzMQl3Nt8p3aA.png 945w,
/static/7deb149afe31e8b997ed26eb3755d633/ba299/1*w4ALp74pUYzMQl3Nt8p3aA.png 1200w" src="/static/7deb149afe31e8b997ed26eb3755d633/57090/1*w4ALp74pUYzMQl3Nt8p3aA.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></aside><div class="tiles-module--blackout--ElFOE"></div><h3>RunMaps 3: Colour Schemes and Labels</h3><p>Now it&#x27;s time to pick up where we left the original development; improving the visuals by adding place labels and map markers.</p><p class="tiles-module--date--aIswY">26 May 2018</p></a></section><section class="tiles-module--tile--2kwde"><a href="/blog/culture-of-fear/"><aside class="tiles-module--imageContainer--9DUT4"><div class="tiles-module--wrapper--2oIOd gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:120%"></div><img src="data:image/png;base64,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" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:0.5s"/><noscript><picture><img sizes="(max-width: 630px) 100vw, 630px" srcset="/static/fc29a66a020b167b96aba8deb0531dcc/d9446/1*q9eE6JDx90bujWY6Da8lhQ.png 158w,
/static/fc29a66a020b167b96aba8deb0531dcc/2f6e7/1*q9eE6JDx90bujWY6Da8lhQ.png 315w,
/static/fc29a66a020b167b96aba8deb0531dcc/57090/1*q9eE6JDx90bujWY6Da8lhQ.png 630w,
/static/fc29a66a020b167b96aba8deb0531dcc/4ace0/1*q9eE6JDx90bujWY6Da8lhQ.png 945w,
/static/fc29a66a020b167b96aba8deb0531dcc/ba299/1*q9eE6JDx90bujWY6Da8lhQ.png 1200w" src="/static/fc29a66a020b167b96aba8deb0531dcc/57090/1*q9eE6JDx90bujWY6Da8lhQ.png" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></aside><div class="tiles-module--blackout--ElFOE"></div><h3>Culture of fear</h3><p>Yes, itâ€™s a project from Hell, but whoâ€™s to blame?</p><p class="tiles-module--date--aIswY">29 Mar 2018</p></a></section></aside></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"blog-runmaps-v-2-0-breaking-free-of-mapbox-02b","path":"/blog/runmaps-v2-0-breaking-free-of-mapbox/"};window.dataPath="912/path---blog-runmaps-v-2-0-breaking-free-of-mapbox-02-b-f1a-ZBCQa4uxtrz7HgfZiqL7VRnrdKk";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-b4c7c5a751c66bcac7f5.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-02f49ce09c384d3de99f.js"],"component---src-templates-tag-list-template-js":["/component---src-templates-tag-list-template-js-8f6f40d7d3b107c1cf69.js"],"component---src-pages-blog-jsx":["/component---src-pages-blog-jsx-bb5dff0f0123199266d6.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-53b27c93cdf9b69aa294.js"],"component---src-pages-tags-jsx":["/component---src-pages-tags-jsx-32ca1525a8dbb5ef3aa5.js"],"pages-manifest":["/pages-manifest-3a553ad4824c505f3c57.js"]};/*]]>*/</script><script src="/webpack-runtime-6f40f2e09b46b2553e19.js" async=""></script><script src="/styles-2ff1b9acc88c62f21cac.js" async=""></script><script src="/1-1e7fdda0a90b05b5dee1.js" async=""></script><script src="/10-1d4e27b19692d6b54d15.js" async=""></script><script src="/app-b4c7c5a751c66bcac7f5.js" async=""></script><script src="/component---src-templates-blog-post-js-02f49ce09c384d3de99f.js" async=""></script></body></html>